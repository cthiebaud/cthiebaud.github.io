<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href="https://cthiebaud.com" />

  <!-- Open Graph data -->
  <meta property="og:locale" content="en_US">
  <meta property="og:title" content="Christophe Thiebaud" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://cthiebaud.com" />
  <meta property="og:description" content="C'est le site de Christophe Thiebaud" />
  <meta property="og:site_name" content="cthiebaud.com" />

  <meta property="og:image" content="https://cthiebaud.com/cthiebaud.png" />
  <meta property="og:image:url" content="https://cthiebaud.com/cthiebaud.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- https://realfavicongenerator.net/svg-favicon/ -->
  <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg">
  <link rel="icon" type="image/png" href="/favicon/favicon.png">

  <title>Christophe Thiebaud</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/css/bootstrap.min.css">

  <style>
    body {
      background-color: #212529;
      color: ghostwhite
    }

    a {
      color: #cff4fc;
      text-decoration: none;
    }

    td>*,
    th>* {
      margin: 0 3px;
    }

    td:first-child,
    th:first-child {
      text-align: right !important;
    }

    main img {
      filter: invert();
    }

    .navbar img:hover {
      /* filter: blur(1px); */
    }

    .navbar img {
      border-radius: 50%;
      width: 100px;
      height: 100px;
      object-fit: cover;
      background-color: #101113a0;
    }

    .navbar img:not(:last-child) {
      margin-right: var(--margin-right)
    }
  </style>

</head>

<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
    <div class="container-lg">
      <div id="imgContainer" class="d-flex justify-content-around w-100" style="overflow: hidden;">
        <img title="c'est le petit garçon" src="/moi/petit_cropped_square.jpg">
        <img title="c'est l'étudiant" src="/moi/student_cropped.jpg">
        <img title="c'est en ce moment" src="/moi/marriage_matilde_cropped.jpg">
        <img title="c'est bientôt" src="/moi/8c9426e8ff0fc7a0a7cd18d6b3c865d4.png">
      </div>
    </div>
  </nav>
  <main class="container-lg table-responsive">
    <table class="table table-sm table-dark table-hover">
      <thead>
        <tr>
          <!-- th>#</!-->
          <th class="text-center">Domain</th>
          <th class="text-center">Local</th>
          <th class="text-center">Links</th>
        </tr>
      </thead>
      <tbody id="domains">
      </tbody>
      <tfoot>
        <tr>
          <td class="text-secondary text-end" colspan="4">
            /usr/local/etc/nginx/nginx.conf
            <br />
            sudo brew services restart nginx
            <br />
          </td>
        </tr>
      </tfoot>
    </table>
  </main>
</body>

<script>
  "use strict"

  /* beautify ignore:start */
  const domains = {
    "aequologica.net": { gh: "aequologica/aequologica.github.io", local: 8080 },
    "covid.aequologica.net": { gh: "covid-aequologica-net/covid-aequologica-net.github.io", local: 4040 },
    "cthiebaud.com": { gh: "cthiebaud/cthiebaud.github.io", local: 5050 },
    "aletheia.cthiebaud.com": { gh: "cthiebaud/truth", local: 9090, apple: "https://appstoreconnect.apple.com/apps", google: "https://play.google.com/console/developers/7840214153383499948/app-list" },
    "bookshelves.cthiebaud.com": { gh: "cthiebaud/bookshelves", local: 2345 },
    "ciaccona.cthiebaud.com": { gh: "musicollator/ciaccona", local: 1010 },
    "emugnier.cthiebaud.com": { gh: "cthiebaud/emugnier", local: 6060 },
    "klam.cthiebaud.com": { gh: "cthiebaud/klam", local: 7070 },
    "music.cthiebaud.com": { gh: "cthiebaud/music", local: 2020 },
    "openmozart.cthiebaud.com": { gh: "cthiebaud/openmozart.net", local: 5001 },
    "openricard.cthiebaud.com": { gh: "cthiebaud/openricard.net" },
  }
  /* beautify ignore:end */

  // utility functions
  function isArray(obj) {
    return Object.prototype.toString.call(obj) === "[object Array]"
  }

  function url2svg(url) {
    if (url.includes("github.com")) {
      return "/svgs/github.svg"
    } else if (url.includes("apple.com")) {
      return "/svgs/Apple_logo_grey.svg"
    } else if (url.includes("google.com")) {
      return "/svgs/android-svgrepo-com.svg"
    }
    return null
  }

  function createTD(names, hrefGenerator, clazz) {
    let td = document.createElement('td')
    if (clazz) {
      td.classList.add(clazz)
    }
    if (!isArray(names)) {
      names = [names]
    }
    names.forEach(name => {
      if (!name) return
      let child
      child = document.createElement('a')
      let href
      if (hrefGenerator && name !== "cthiebaud.com") {
        if (!(typeof name === 'string' || name instanceof String)) {
          href = hrefGenerator(name)
        } else if (!name.includes("http")) {
          href = hrefGenerator(name)
        } else {
        href = name
        }
      } else {
        href = name
      }

      const imgSrc = url2svg(href)
      if (imgSrc) {
        let img = document.createElement('img')
        img.setAttribute('src', imgSrc)
        img.setAttribute('style', "width:24px; height:auto;")
        child.appendChild(img)
      } else {
        child.textContent = name
      }
      child.setAttribute('href', href)
      child.setAttribute('target', `_blank`)
      td.appendChild(child)
    })
    return td
  }

  function createTR(index, domainName, value) {
    let tr = document.createElement('tr')
    // tr.appendChild(createTD(index))
    tr.appendChild(createTD(domainName, value.page ? n => `https://${n}/${value.page}` : n => `https://${n}`))
    tr.appendChild(createTD(value.local, value.page ? n => `http://localhost:${n}/${value.page}` : n => `http://localhost:${n}`, "text-center"))
    tr.appendChild(createTD([value.gh, value.apple, value.google], n => `https://github.com/${n}`, "text-center"))
    return tr
  }
  const tbody = document.querySelector('#domains')
  let i = 1
  for (const [domainName, value] of Object.entries(domains)) {
    tbody.appendChild(createTR(i++, domainName, value))
  }

  // Function to set CSS variable value
  function calcImgMarginRightCSSVariable() {
    const imgContainer = document.getElementById('imgContainer')
    const rect = imgContainer.getBoundingClientRect()
    const excedent = 400 - (rect.right - rect.left)
    if (excedent > 0) {
      const marginRight = excedent / 3
      console.log(rect.right - rect.left, excedent, marginRight)
      document.documentElement.style.setProperty('--margin-right', `-${marginRight}px`);
    }
  }

  // Initial setup after document load
  document.addEventListener('DOMContentLoaded', function () {
    calcImgMarginRightCSSVariable();
  });

  // Update CSS variable value on window resize
  window.addEventListener('resize', function () {
    calcImgMarginRightCSSVariable();
  });
</script>

</html>